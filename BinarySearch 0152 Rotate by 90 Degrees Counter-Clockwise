class Solution {
public:
    vector<vector<int>> solve(vector<vector<int>>& M) {
        int n = M.size() - 1;
        for (int i = 0; i <= (n + 1) / 2; ++i) {
            for (int j = 0; j <= (n + 1) / 2; ++j) {
                swap(M[i][j], M[j][n - i]);
                swap(M[i][j], M[n - i][n - j]);
                swap(M[i][j], M[n - j][i]);
            }
        }
        return M;
    }
};
